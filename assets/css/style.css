/* =========================================
   MIQUEIAS BARROS | PORTFOLIO FINAL (MASTER)
   ========================================= */

:root {
    --neon-green: #00ff41;
    --dark-green: #003b0f;
    --bg-main: #020202;
    --glass-bg: rgba(10, 12, 10, 0.65);
    --border-color: rgba(0, 255, 65, 0.3);
    --text-primary: #e0ffe0;
    --text-secondary: #8f9f8f;
    --font-mono: 'JetBrains Mono', monospace;
    --font-sans: 'Inter', sans-serif;
}

/* 1. RESET & BASICS */
* { margin: 0; padding: 0; box-sizing: border-box; cursor: none; scroll-behavior: smooth; }
body { background-color: var(--bg-main); color: var(--text-primary); font-family: var(--font-sans); line-height: 1.6; overflow-x: hidden; }
a, button { cursor: none; }
ul { list-style: none; } 
a { text-decoration: none; color: inherit; }
.hidden-scroll { overflow: hidden; height: 100vh; }

/* 2. PRELOADER */
#preloader {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 9999;
    display: flex; justify-content: flex-start; align-items: flex-start; padding: 40px;
    font-family: var(--font-mono); color: var(--neon-green);
}
.terminal-loader { width: 100%; max-width: 600px; }
.terminal-header { margin-bottom: 20px; font-size: 0.8rem; opacity: 0.7; }
.terminal-text { font-size: 0.95rem; line-height: 1.5; white-space: pre-wrap; min-height: 150px; text-shadow: 0 0 5px var(--neon-green); }
.loader-bar { width: 100%; height: 4px; background: #111; margin-top: 20px; border: 1px solid #333; }
.loader-progress { width: 0%; height: 100%; background: var(--neon-green); transition: width 0.1s; box-shadow: 0 0 10px var(--neon-green); }

/* 3. GLOBAL FX */
.crt-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
                linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
    background-size: 100% 2px, 3px 100%; pointer-events: none; z-index: 9000; opacity: 0.5;
}
#matrix-bg { position: fixed; top: 0; left: 0; z-index: -10; opacity: 0.15; }

/* Custom Cursor */
#cursor-custom {
    position: fixed; width: 6px; height: 6px; background: var(--neon-green); border-radius: 50%;
    transform: translate(-50%, -50%); pointer-events: none; z-index: 10000; mix-blend-mode: difference;
}
#cursor-trail {
    position: fixed; width: 30px; height: 30px; border: 1px solid var(--neon-green); border-radius: 50%;
    transform: translate(-50%, -50%); pointer-events: none; z-index: 9999; opacity: 0.4;
    transition: width 0.3s, height 0.3s;
}
body.hovering #cursor-custom { width: 4px; height: 4px; opacity: 0.5; }
body.hovering #cursor-trail { width: 50px; height: 50px; opacity: 1; background: rgba(0, 255, 65, 0.05); border: 2px solid var(--neon-green); }

/* 4. LAYOUT & NAVBAR */
.container { 
    max-width: 1080px; 
    margin: 0 auto; 
    padding: 0 25px; 
    width: 100%; 
}
.section-pad { padding: 80px 0; }

.cyber-nav {
    position: fixed; top: 0; left: 0; width: 100%; padding: 15px 5%;
    display: flex; justify-content: space-between; align-items: center;
    background: rgba(5, 5, 5, 0.9); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border-color); z-index: 100;
}
.logo-container { display: flex; align-items: center; }
.nav-logo-img { height: 40px; width: auto; transition: 0.3s; }
.logo-container:hover .nav-logo-img { transform: scale(1.1); filter: drop-shadow(0 0 8px var(--neon-green)); }

.nav-links { display: flex; gap: 30px; }
.nav-links a { color: var(--text-secondary); font-family: var(--font-mono); font-size: 0.85rem; transition: 0.3s; }
.nav-links a:hover, .nav-links a.highlight-link { color: var(--neon-green); text-shadow: 0 0 8px rgba(0,255,65,0.4); }
.mobile-menu-btn { display: none; color: var(--neon-green); font-size: 1.5rem; z-index: 102; cursor: pointer; }

/* 5. HERO SECTION */
.hero-section { height: 100vh; display: flex; align-items: center; justify-content: center; text-align: center; padding-top: 60px; min-height: 600px; }
.terminal-badge {
    font-family: var(--font-mono); color: var(--neon-green); background: rgba(0,255,65,0.1); 
    padding: 5px 12px; border-radius: 4px; font-size: 0.8rem; cursor: pointer; transition: 0.3s;
}
.terminal-badge.blink { animation: blink 2s infinite; }
.terminal-badge:active { transform: scale(0.95); background: var(--neon-green); color: #000; }
@keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

.glitch-wrapper { display: flex; justify-content: center; }
.glitch-title {
    font-size: 3.5rem;
    font-weight: 800; margin: 20px 0 15px; letter-spacing: -2px; color: #fff; text-transform: uppercase;
    position: relative; display: inline-block;
}
.glitch-title::before, .glitch-title::after { content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-main); }
.glitch-title::before { left: 2px; text-shadow: -1px 0 #ff00c1; clip-path: polygon(0 0, 100% 0, 100% 35%, 0 35%); animation: glitch-anim-1 3s infinite linear alternate-reverse; }
.glitch-title::after { left: -2px; text-shadow: -1px 0 #00fff9; clip-path: polygon(0 65%, 100% 65%, 100% 100%, 0 100%); animation: glitch-anim-2 2.5s infinite linear alternate-reverse; }
@keyframes glitch-anim-1 { 0% { clip-path: polygon(0 20%, 100% 20%, 100% 40%, 0 40%); transform: translate(-2px); } 100% { clip-path: polygon(0 50%, 100% 50%, 100% 90%, 0 90%); transform: translate(1px); } }
@keyframes glitch-anim-2 { 0% { clip-path: polygon(0 10%, 100% 10%, 100% 30%, 0 30%); transform: translate(3px); } 100% { clip-path: polygon(0 40%, 100% 40%, 100% 70%, 0 70%); transform: translate(-2px); } }

.subtitle { font-size: 1.4rem; font-weight: 300; color: #fff; margin-bottom: 20px; }
.hero-desc-terminal { max-width: 600px; margin: 0 auto 40px; color: var(--text-secondary); font-size: 1rem; font-family: var(--font-mono); min-height: 50px; }
.cursor { color: var(--neon-green); font-weight: bold; animation: blink 1s step-end infinite; }
.hero-actions { display: flex; gap: 20px; justify-content: center; }
.cyber-btn {
    padding: 12px 28px; font-family: var(--font-mono); text-transform: uppercase; border: 1px solid var(--neon-green); 
    color: var(--neon-green); transition: 0.3s; background: rgba(0,255,65,0.05); font-size: 0.9rem;
}
.cyber-btn:hover { background: var(--neon-green); color: #000; box-shadow: 0 0 15px var(--neon-green); }
.cyber-btn.primary { background: var(--neon-green); color: #000; font-weight: bold; }
.cyber-btn.primary:hover { background: #fff; color: #000; box-shadow: 0 0 30px #fff; border-color: #fff; }

/* 6. GENERAL UI */
.section-title { font-family: var(--font-mono); color: #fff; font-size: 1.5rem; margin-bottom: 40px; display: flex; align-items: center; gap: 15px; }
.section-title span { color: var(--neon-green); }
.section-title::after { content: ''; flex: 1; height: 1px; background: var(--border-color); margin-left: 20px; opacity: 0.5; }

.glass-panel, .link-card {
    background: var(--glass-bg); border: 1px solid var(--border-color); 
    padding: 30px; 
    border-radius: 12px; backdrop-filter: blur(15px);
    position: relative; overflow: hidden; transform-style: preserve-3d; transition: transform 0.1s, border-color 0.3s, box-shadow 0.3s;
}
.glass-panel::after, .link-card::after {
    content: ''; position: absolute; top: 0; left: -100%; width: 50%; height: 100%;
    background: linear-gradient(120deg, transparent, rgba(0, 255, 65, 0.1), transparent);
    transform: skewX(-20deg); transition: 0.5s; pointer-events: none;
}
.glass-panel:hover::after, .link-card:hover::after { left: 150%; transition: 0.7s ease-in-out; }
.glass-panel:hover, .link-card:hover { border-color: var(--neon-green); box-shadow: 0 0 15px rgba(0, 255, 65, 0.1); }

/* 7. ABOUT SECTION */
.about-grid { display: grid; grid-template-columns: 320px 1fr; gap: 40px; align-items: start; }
.img-wrapper { position: relative; width: 100%; height: 320px; margin-bottom: 20px; overflow: hidden; border-radius: 8px; border: 1px solid var(--neon-green); }
.img-wrapper img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
.img-wrapper::after {
    content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(180deg, rgba(0,255,65,0.1) 0%, rgba(5,5,5,0.6) 100%); mix-blend-mode: hard-light; transition: opacity 0.5s; pointer-events: none;
}
.img-wrapper:hover img { transform: scale(1.05); }
.img-wrapper:hover::after { opacity: 0; }
.scan-line { position: absolute; top: 0; left: 0; width: 100%; height: 2px; background: var(--neon-green); animation: scan 3s infinite linear; opacity: 0.6; pointer-events: none; }
@keyframes scan { 0% { top: 0; } 100% { top: 100%; opacity: 0; } }

.stats-widget { display: flex; flex-direction: column; gap: 10px; }
.stat-row { display: flex; align-items: center; gap: 10px; }
.stat-bar-container { flex: 1; }
.progress-bar { height: 4px; background: rgba(255,255,255,0.1); border-radius: 3px; overflow: hidden; }
.progress-bar .fill { height: 100%; background: var(--neon-green); box-shadow: 0 0 10px var(--neon-green); }
.stat-label { font-family: var(--font-mono); font-size: 0.75rem; color: var(--text-secondary); margin-bottom: 5px; }

.big-bio { font-size: 1.05rem; color: var(--text-secondary); margin-bottom: 25px; line-height: 1.6; }
.neon-text { color: var(--text-primary); text-shadow: 0 0 10px rgba(0,255,65,0.3); }

.skill-category h4 { font-family: var(--font-mono); font-size: 0.9rem; margin-bottom: 15px; color: var(--neon-green); }
.tags-cloud { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 25px; }
.tags-cloud span { padding: 6px 12px; background: rgba(255,255,255,0.03); font-family: var(--font-mono); font-size: 0.8rem; color: var(--neon-green); border: 1px solid var(--border-color); }
.tags-cloud.secondary span { border-color: #5352ed; color: #5352ed; }

/* 8. PROJECTS & TIMELINE */
.timeline-container { display: flex; flex-direction: column; gap: 30px; }

/* Grid Equilibrado: Imagem Fixa 320px */
.project-item { 
    display: grid; 
    grid-template-columns: 320px 1fr; 
    gap: 30px; 
    align-items: start;
    padding: 25px; 
}

/* Thumbnail */
.project-thumb { 
    position: relative;
    width: 100%; 
    height: 180px; 
    border-radius: 8px; 
    overflow: hidden; 
    border: 1px solid var(--dark-green);
    background: #0d1117; 
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
}

.project-thumb img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease, filter 0.3s ease; }
.project-thumb img.object-contain { object-fit: contain; padding: 20px; }
.project-item:hover .project-thumb img { transform: scale(1.05); filter: contrast(1.1) brightness(1.1); }
.project-item:hover .project-thumb { border-color: var(--neon-green); box-shadow: 0 0 15px rgba(0, 255, 65, 0.2); }

.project-thumb .scan-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: repeating-linear-gradient(to bottom, transparent 0px, transparent 2px, rgba(0, 255, 65, 0.1) 3px, rgba(0, 0, 0, 0.1) 4px);
    pointer-events: none; z-index: 2; opacity: 0.7;
}

/* Project Content */
.project-content { display: flex; flex-direction: column; }
.project-header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: 15px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); padding-bottom: 10px;
}
.project-year { font-family: var(--font-mono); color: var(--neon-green); font-size: 0.9rem; }
.project-links { display: flex; gap: 10px; }

.cyber-link {
    display: flex; align-items: center; gap: 6px; padding: 6px 12px;
    font-family: 'JetBrains Mono', monospace; font-size: 0.8rem;
    color: #a0a0a0; border: 1px solid #333; border-radius: 4px; transition: all 0.3s ease; background: rgba(0, 0, 0, 0.3);
}
.cyber-link:hover { color: #0d1117; background: #00ff41; border-color: #00ff41; box-shadow: 0 0 10px rgba(0, 255, 65, 0.4); transform: translateY(-2px); }
.cyber-link.highlight { border-color: rgba(0, 255, 65, 0.5); color: #00ff41; }
.cyber-link.highlight:hover { color: #000; background: #00ff41; }
.cyber-link i { font-size: 1.1em; }

.project-details h4 { font-size: 1.4rem; margin-bottom: 10px; color: #fff; }
.project-details p { font-size: 0.95rem; color: var(--text-secondary); line-height: 1.5; }

.tech-list { list-style: none; display: flex; flex-wrap: wrap; gap: 10px; margin-top: 20px; }
.tech-list li { 
    font-family: var(--font-mono); font-size: 0.75rem; color: var(--neon-green); 
    background: rgba(0, 255, 65, 0.05); padding: 4px 10px; border-radius: 4px; border: 1px solid rgba(0, 255, 65, 0.2); 
}

/* =========================================
   9. FOOTER & LINKS (LAYOUT GRID 4 COLUNAS)
   ========================================= */
.footer-layout { text-align: center; max-width: 1000px; margin: 0 auto; }
.footer-text h2 { font-size: 2rem; margin-bottom: 20px; color: #fff; }

.links-grid { 
    display: grid; 
    /* 4 Colunas iguais no total */
    grid-template-columns: repeat(4, 1fr); 
    gap: 20px; 
    margin-top: 50px; 
}

/* Estilo padrão (Pequenos) */
.link-card { 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center;
    gap: 15px; 
    text-decoration: none; 
    color: #fff; 
    padding: 25px 15px; 
    text-align: center;
    transition: all 0.3s ease;
    /* Ocupa 1 coluna */
    grid-column: span 1; 
}

.link-card i { font-size: 2rem; color: var(--neon-green); transition: 0.3s; }
.link-card span { font-weight: 600; font-size: 1rem; }
.link-card small { display: none; } /* Oculta descrições nos pequenos */

/* DESTAQUES (Email & CV) - Ocupam 2 Colunas */
.link-card.highlight { 
    grid-column: span 2; /* 50% da largura */
    padding: 50px 30px; 
    border-color: var(--neon-green); 
    background: rgba(0,255,65,0.05); 
    border-width: 2px;
}
.link-card.highlight i { font-size: 3rem; margin-bottom: 10px; }
.link-card.highlight span { font-size: 1.5rem; text-transform: uppercase; }
.link-card.highlight small { display: block; margin-top: 5px; color: var(--text-secondary); font-size: 0.9rem; }

/* Hover */
.link-card:hover { border-color: var(--neon-green); box-shadow: 0 0 15px rgba(0, 255, 65, 0.1); transform: translateY(-5px); }
.link-card.highlight:hover { background: rgba(0, 255, 65, 0.08); box-shadow: 0 0 30px rgba(0, 255, 65, 0.2); }

.copyright { text-align: center; padding: 30px; margin-top: 60px; color: var(--dark-green); font-family: var(--font-mono); font-size: 0.8rem; border-top: 1px solid rgba(0, 255, 65, 0.1); }

/* =========================================
   10. EASTER EGG (COLADO NO FUNDO)
   ========================================= */
#twitch-easter-egg { 
    position: fixed; 
    bottom: 0; 
    right: 40px; 
    z-index: 11000; 
    display: flex; 
    flex-direction: column; 
    align-items: flex-end; 
    pointer-events: none; 
}

.twitch-char-wrapper { 
    position: relative; 
    width: 350px; 
    height: 400px; 
    cursor: none; 
    pointer-events: auto; 
    margin-bottom: -5px; /* Remove folga inferior */
}

.char-img { 
    position: absolute; 
    bottom: 0; right: 0; 
    width: 100%; height: auto; 
    filter: drop-shadow(0 -5px 25px rgba(145, 70, 255, 0.5)); 
    transition: opacity 0.3s ease, transform 0.3s ease; 
}
.char-smile { opacity: 0; z-index: 2; } .char-serious { opacity: 1; z-index: 1; }
.twitch-char-wrapper:hover .char-smile { opacity: 1; transform: scale(1.02); } .twitch-char-wrapper:hover .char-serious { opacity: 0; }

.twitch-hidden .twitch-char-wrapper { transform: translateY(100%); opacity: 0; transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55); }
.twitch-bubble { opacity: 0; transform: translateY(50px) scale(0.5); transition: all 0.4s ease; }
.twitch-active { pointer-events: auto !important; }
.twitch-active .twitch-char-wrapper { transform: translateY(0); opacity: 1; }
.twitch-active .twitch-bubble { opacity: 1; transform: translateY(0) scale(1); transition-delay: 0.4s; }

.twitch-bubble {
    background: #fff; color: #000; padding: 20px 30px; border-radius: 20px; font-family: var(--font-sans); font-size: 1.1rem;
    margin-bottom: 20px; margin-right: 80px; position: relative; box-shadow: 0 15px 40px rgba(0,0,0,0.4); border: 4px solid #9146FF; transform-origin: bottom right;
}
.twitch-bubble::after { content: ''; position: absolute; bottom: -15px; right: 50px; border-width: 15px 15px 0; border-style: solid; border-color: #fff transparent; display: block; width: 0; }
.twitch-bubble span { display: block; font-weight: bold; color: #9146FF; font-size: 1.3rem; margin-top: 5px; }

/* 11. ANIMAÇÕES & RESPONSIVIDADE */
.fade-in, .fade-up, .fade-in-left, .fade-in-right { opacity: 0; transition: all 0.8s ease; }
.fade-up { transform: translateY(40px); } .fade-in-left { transform: translateX(-40px); } .fade-in-right { transform: translateX(40px); }
.visible { opacity: 1; transform: translate(0); }

/* === TABLET & MOBILE === */
@media (max-width: 900px) {
    .container { padding: 0 20px; }
    .about-grid { grid-template-columns: 1fr; gap: 30px; }
    .img-wrapper { height: 300px; }
    
    .project-item { grid-template-columns: 1fr; gap: 20px; padding: 20px; }
    .project-thumb { height: auto; aspect-ratio: 16/9; }
    
    .glitch-title { font-size: 3rem; }
    
    /* Footer no Tablet: Email e CV ocupam linha inteira cada */
    .links-grid { grid-template-columns: repeat(2, 1fr); }
    .link-card.highlight { grid-column: span 2; } 
    .link-card { grid-column: span 1; }

    /* Menu Mobile */
    .mobile-menu-btn { display: block; }
    .nav-links { display: none; }
    .nav-links.active {
        display: flex !important; flex-direction: column; position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
        background: rgba(5, 5, 5, 0.98); backdrop-filter: blur(20px); justify-content: center; align-items: center; z-index: 100; gap: 30px;
    }
    .nav-links.active a { font-size: 1.4rem; border: 1px solid var(--neon-green); padding: 15px 30px; width: 85%; text-align: center; background: rgba(0, 255, 65, 0.05); }

    /* Desligar efeitos pesados */
    * { cursor: auto !important; }
    #cursor-custom, #cursor-trail, .crt-overlay { display: none; }
    #twitch-easter-egg { display: none; } 
}

@media (max-width: 480px) {
    .glitch-title { font-size: 2.2rem; }
    .links-grid { grid-template-columns: 1fr; }
    .link-card.highlight { grid-column: span 1; padding: 30px 20px; }
    .link-card.highlight i { font-size: 2.5rem; }
}